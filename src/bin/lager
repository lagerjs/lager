#!/usr/bin/env node
'use strict';

// Nice ES6 syntax
// const { Promise, _, icli } = require('@lager/lager').import;
const lager = require('@lager/lager');
const icli = lager.import.icli;

const packageJson = require('@lager/lager/package');

icli.getProgram().version(packageJson.version);

// We fire the "registerCommands" event so plugins can add their own commands
lager.fire('registerCommands')
.spread(() => {
  // Finally, we execute the cli
  icli.getProgram().parse(process.argv);
});
